<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AstroEdu - Edukasi Astronomi Interaktif</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome untuk ikon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Leaflet CSS untuk peta planetarium -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        /* Styling tambahan */
        .star-bg {
            background: linear-gradient(to bottom, #0a0e27, #1a1f4b);
            background-image: radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 5px);
            background-size: 30px 30px;
        }
        .gradient-text {
            background: linear-gradient(90deg, #8a2be2, #1e90ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        .planetarium-container {
            height: 400px;
            border-radius: 10px;
            overflow: hidden;
        }
        .quiz-option {
            transition: all 0.2s ease;
        }
        .quiz-option:hover {
            background-color: rgba(59, 130, 246, 0.1);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="star-bg text-white min-h-screen">
    <!-- Header/Navigasi -->
    <header class="sticky top-0 z-50 bg-gray-900/90 backdrop-blur-sm border-b border-blue-800">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-star text-yellow-400 text-2xl"></i>
                    <h1 class="text-2xl font-bold gradient-text">AstroEdu</h1>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <a href="#home" class="hover:text-blue-400 transition">Beranda</a>
                    <a href="#planetarium" class="hover:text-blue-400 transition">Planetarium</a>
                    <a href="#history" class="hover:text-blue-400 transition">Hari Ini dalam Sejarah</a>
                    <a href="#quiz" class="hover:text-blue-400 transition">Kuis</a>
                    <a href="#material" class="hover:text-blue-400 transition">Generator Materi</a>
                </nav>
                <button id="mobile-menu-btn" class="md:hidden text-xl">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <!-- Menu Mobile -->
            <div id="mobile-menu" class="hidden md:hidden mt-4 space-y-3">
                <a href="#home" class="block hover:text-blue-400 transition">Beranda</a>
                <a href="#planetarium" class="block hover:text-blue-400 transition">Planetarium</a>
                <a href="#history" class="block hover:text-blue-400 transition">Hari Ini dalam Sejarah</a>
                <a href="#quiz" class="block hover:text-blue-400 transition">Kuis</a>
                <a href="#material" class="block hover:text-blue-400 transition">Generator Materi</a>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <!-- Bagian Beranda -->
        <section id="home" class="mb-16 fade-in">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4">Eksplorasi Alam Semesta</h2>
                <p class="text-xl text-blue-200 max-w-3xl mx-auto">Temukan keindahan astronomi melalui platform interaktif yang membuat sains antariksa mudah diakses oleh semua orang.</p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-gray-800/50 rounded-xl p-6 card-hover">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-globe-americas text-blue-400 text-2xl mr-3"></i>
                        <h3 class="text-2xl font-bold">Planetarium Virtual</h3>
                    </div>
                    <p class="text-blue-100 mb-4">Lihat peta langit berdasarkan lokasi Anda. Temukan planet, bintang, dan rasi bintang yang terlihat dari daerah Anda saat ini.</p>
                    <div class="flex items-center text-sm text-blue-300">
                        <i class="fas fa-map-marker-alt mr-2"></i>
                        <span id="user-location">Mendeteksi lokasi...</span>
                    </div>
                </div>
                
                <div class="bg-gray-800/50 rounded-xl p-6 card-hover">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-calendar-day text-purple-400 text-2xl mr-3"></i>
                        <h3 class="text-2xl font-bold">Hari Ini dalam Sejarah Antariksa</h3>
                    </div>
                    <p class="text-blue-100 mb-4">Jelajahi peristiwa penting dalam eksplorasi antariksa yang terjadi pada tanggal hari ini sepanjang sejarah.</p>
                    <div class="text-sm text-purple-300">
                        <i class="fas fa-rocket mr-2"></i>
                        <span>Mengambil data dari arsip NASA...</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bagian Planetarium Virtual -->
        <section id="planetarium" class="mb-16">
            <h2 class="text-3xl font-bold mb-6 flex items-center">
                <i class="fas fa-star-and-crescent mr-3 text-yellow-300"></i>
                Planetarium Virtual
            </h2>
            
            <div class="bg-gray-900/70 rounded-xl p-4 mb-6">
                <div class="planetarium-container" id="planetarium-map">
                    <!-- Peta akan dimuat di sini -->
                    <div class="h-full flex items-center justify-center">
                        <div class="text-center">
                            <i class="fas fa-spinner fa-spin text-4xl text-blue-400 mb-4"></i>
                            <p>Memuat peta langit...</p>
                        </div>
                    </div>
                </div>
                
                <div class="flex flex-wrap justify-between items-center mt-4">
                    <div>
                        <p class="text-blue-200">Koordinat: <span id="coordinates">-</span></p>
                        <p class="text-blue-200">Waktu lokal: <span id="local-time">-</span></p>
                    </div>
                    <div class="mt-4 md:mt-0">
                        <button id="locate-btn" class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg mr-2">
                            <i class="fas fa-location-arrow mr-2"></i>Deteksi Lokasi Saya
                        </button>
                        <button id="reset-planetarium" class="bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg">
                            <i class="fas fa-sync-alt mr-2"></i>Reset
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="grid md:grid-cols-3 gap-6 mt-8">
                <div class="bg-gray-800/50 p-4 rounded-lg">
                    <h4 class="font-bold text-lg mb-2 flex items-center">
                        <i class="fas fa-sun text-yellow-400 mr-2"></i> Matahari
                    </h4>
                    <p class="text-sm text-blue-100">Bintang pusat tata surya kita. Saat ini berada di konstelasi <span class="font-bold">Gemini</span>.</p>
                </div>
                <div class="bg-gray-800/50 p-4 rounded-lg">
                    <h4 class="font-bold text-lg mb-2 flex items-center">
                        <i class="fas fa-moon text-gray-300 mr-2"></i> Bulan
                    </h4>
                    <p class="text-sm text-blue-100">Satelit alami Bumi. Fase bulan saat ini: <span class="font-bold" id="moon-phase">-</span>.</p>
                </div>
                <div class="bg-gray-800/50 p-4 rounded-lg">
                    <h4 class="font-bold text-lg mb-2 flex items-center">
                        <i class="fas fa-globe-asia text-green-400 mr-2"></i> Planet Terlihat
                    </h4>
                    <p class="text-sm text-blue-100">Planet yang dapat dilihat malam ini: <span class="font-bold">Venus, Mars, Jupiter</span>.</p>
                </div>
            </div>
        </section>

        <!-- Bagian Hari Ini dalam Sejarah Antariksa -->
        <section id="history" class="mb-16">
            <h2 class="text-3xl font-bold mb-6 flex items-center">
                <i class="fas fa-history mr-3 text-orange-400"></i>
                Hari Ini dalam Sejarah Antariksa
            </h2>
            
            <div class="bg-gray-900/70 rounded-xl p-6">
                <div class="text-center mb-6">
                    <h3 class="text-2xl font-bold mb-2">Peristiwa pada Tanggal <span id="today-date">-</span></h3>
                    <p class="text-blue-200">Data diambil dari arsip NASA API</p>
                </div>
                
                <div id="history-content" class="space-y-6">
                    <!-- Konten sejarah akan dimuat di sini -->
                    <div class="text-center py-8">
                        <i class="fas fa-spinner fa-spin text-4xl text-orange-400 mb-4"></i>
                        <p>Memuat data sejarah antariksa...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bagian Kuis Interaktif -->
        <section id="quiz" class="mb-16">
            <h2 class="text-3xl font-bold mb-6 flex items-center">
                <i class="fas fa-question-circle mr-3 text-green-400"></i>
                Kuis Astronomi Interaktif
            </h2>
            
            <div class="bg-gray-900/70 rounded-xl p-6">
                <div class="mb-6 text-center">
                    <h3 class="text-2xl font-bold mb-2">Uji Pengetahuan Astronomi Anda</h3>
                    <p class="text-blue-200">Kuis ini menggunakan data real dari NASA. Jawab pertanyaan untuk menguji pengetahuan Anda!</p>
                </div>
                
                <div id="quiz-container">
                    <div id="quiz-start" class="text-center">
                        <div class="mb-6">
                            <i class="fas fa-rocket text-5xl text-green-400 mb-4"></i>
                            <h4 class="text-xl font-bold mb-2">Kuis Astronomi NASA</h4>
                            <p class="text-blue-200 mb-6">Tantang diri Anda dengan 5 pertanyaan tentang astronomi dan eksplorasi antariksa!</p>
                        </div>
                        <button id="start-quiz-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg text-lg">
                            Mulai Kuis
                        </button>
                    </div>
                    
                    <div id="quiz-questions" class="hidden">
                        <!-- Pertanyaan kuis akan dimuat di sini -->
                    </div>
                    
                    <div id="quiz-results" class="hidden text-center">
                        <!-- Hasil kuis akan ditampilkan di sini -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Bagian Generator Materi Ajar -->
        <section id="material" class="mb-16">
            <h2 class="text-3xl font-bold mb-6 flex items-center">
                <i class="fas fa-chalkboard-teacher mr-3 text-purple-400"></i>
                Generator Materi Ajar untuk Guru
            </h2>
            
            <div class="bg-gray-900/70 rounded-xl p-6">
                <div class="mb-6">
                    <h3 class="text-2xl font-bold mb-2">Buat Materi Ajar Astronomi</h3>
                    <p class="text-blue-200">Generator ini membantu guru membuat materi ajar astronomi berdasarkan data terbaru dari NASA.</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div>
                        <label class="block text-lg font-medium mb-2">Pilih Topik Materi</label>
                        <select id="topic-select" class="w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white">
                            <option value="solar-system">Tata Surya</option>
                            <option value="stars">Bintang dan Konstelasi</option>
                            <option value="black-holes">Lubang Hitam</option>
                            <option value="exoplanets">Eksoplanet</option>
                            <option value="space-missions">Misi Antariksa</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-lg font-medium mb-2">Tingkat Kesulitan</label>
                        <select id="difficulty-select" class="w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white">
                            <option value="easy">Dasar (SD)</option>
                            <option value="medium">Menengah (SMP)</option>
                            <option value="advanced">Lanjutan (SMA)</option>
                        </select>
                    </div>
                </div>
                
                <div class="mb-6">
                    <label class="block text-lg font-medium mb-2">Poin Pembelajaran yang Diinginkan</label>
                    <textarea id="learning-points" class="w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white h-32" placeholder="Masukkan poin pembelajaran yang ingin Anda sertakan dalam materi..."></textarea>
                </div>
                
                <div class="text-center">
                    <button id="generate-material-btn" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg text-lg">
                        <i class="fas fa-magic mr-2"></i> Generate Materi Ajar
                    </button>
                </div>
                
                <div id="generated-material" class="mt-8 hidden">
                    <!-- Materi yang dihasilkan akan muncul di sini -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-blue-800 py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0">
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fas fa-star text-yellow-400 text-2xl"></i>
                        <h2 class="text-2xl font-bold">AstroEdu</h2>
                    </div>
                    <p class="text-blue-200">Membuat astronomi mudah diakses untuk semua orang</p>
                </div>
                
                <div class="text-center md:text-right">
                    <p class="text-blue-200 mb-2">Ditenagai oleh NASA API</p>
                    <p class="text-gray-400 text-sm">¬© 2023 AstroEdu. Hak cipta dilindungi.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // API Key NASA
        const NASA_API_KEY = "z2KP4XppflK2JoTmDsCttBcjrZwRSpr91olm5sjt";
        
        // Data untuk aplikasi
        let userLocation = { lat: -6.2088, lon: 106.8456 }; // Default: Jakarta
        let quizQuestions = [];
        let currentQuestionIndex = 0;
        let userScore = 0;
        
        // Inisialisasi aplikasi saat halaman dimuat
        document.addEventListener('DOMContentLoaded', function() {
            // Setup menu mobile
            document.getElementById('mobile-menu-btn').addEventListener('click', function() {
                const menu = document.getElementById('mobile-menu');
                menu.classList.toggle('hidden');
            });
            
            // Setup tanggal hari ini
            const today = new Date();
            const formattedDate = today.toLocaleDateString('id-ID', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            document.getElementById('today-date').textContent = formattedDate;
            document.getElementById('local-time').textContent = today.toLocaleTimeString('id-ID');
            
            // Deteksi lokasi pengguna
            detectUserLocation();
            
            // Setup planetarium virtual
            initPlanetarium();
            
            // Setup event listeners
            document.getElementById('locate-btn').addEventListener('click', detectUserLocation);
            document.getElementById('reset-planetarium').addEventListener('click', resetPlanetarium);
            document.getElementById('start-quiz-btn').addEventListener('click', startQuiz);
            document.getElementById('generate-material-btn').addEventListener('click', generateTeachingMaterial);
            
            // Ambil data sejarah antariksa
            fetchSpaceHistory();
            
            // Setup pertanyaan kuis
            setupQuizQuestions();
            
            // Update fase bulan
            updateMoonPhase();
        });
        
        // Fungsi untuk mendeteksi lokasi pengguna
        function detectUserLocation() {
            document.getElementById('user-location').textContent = "Mendeteksi lokasi...";
            
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        userLocation.lat = position.coords.latitude;
                        userLocation.lon = position.coords.longitude;
                        
                        // Update tampilan lokasi
                        document.getElementById('user-location').textContent = 
                            `Lat: ${userLocation.lat.toFixed(4)}, Lon: ${userLocation.lon.toFixed(4)}`;
                        document.getElementById('coordinates').textContent = 
                            `${userLocation.lat.toFixed(4)}, ${userLocation.lon.toFixed(4)}`;
                        
                        // Reverse geocoding untuk mendapatkan nama lokasi
                        fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${userLocation.lat}&lon=${userLocation.lon}`)
                            .then(response => response.json())
                            .then(data => {
                                if (data.display_name) {
                                    const locationName = data.display_name.split(',')[0];
                                    document.getElementById('user-location').textContent = locationName;
                                }
                            })
                            .catch(error => {
                                console.error("Error getting location name:", error);
                            });
                        
                        // Update planetarium
                        updatePlanetarium();
                    },
                    function(error) {
                        console.error("Error getting location:", error);
                        document.getElementById('user-location').textContent = "Jakarta, Indonesia (default)";
                    }
                );
            } else {
                document.getElementById('user-location').textContent = "Geolocation tidak didukung";
            }
        }
        
        // Fungsi untuk menginisialisasi planetarium
        function initPlanetarium() {
            // Inisialisasi peta Leaflet
            const map = L.map('planetarium-map').setView([userLocation.lat, userLocation.lon], 3);
            
            // Tambahkan layer peta dasar
            L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
                attribution: '&copy; OpenStreetMap contributors &copy; CARTO',
                maxZoom: 18
            }).addTo(map);
            
            // Tambahkan penanda untuk lokasi pengguna
            const userMarker = L.marker([userLocation.lat, userLocation.lon])
                .addTo(map)
                .bindPopup('Lokasi Anda')
                .openPopup();
            
            // Simpan referensi peta untuk digunakan nanti
            window.astroMap = map;
            window.userMarker = userMarker;
            
            // Update koordinat
            document.getElementById('coordinates').textContent = 
                `${userLocation.lat.toFixed(4)}, ${userLocation.lon.toFixed(4)}`;
        }
        
        // Fungsi untuk memperbarui planetarium
        function updatePlanetarium() {
            if (window.astroMap && window.userMarker) {
                window.astroMap.setView([userLocation.lat, userLocation.lon], 5);
                window.userMarker.setLatLng([userLocation.lat, userLocation.lon]);
                document.getElementById('coordinates').textContent = 
                    `${userLocation.lat.toFixed(4)}, ${userLocation.lon.toFixed(4)}`;
            }
        }
        
        // Fungsi untuk mereset planetarium
        function resetPlanetarium() {
            userLocation = { lat: -6.2088, lon: 106.8456 }; // Reset ke Jakarta
            updatePlanetarium();
            document.getElementById('user-location').textContent = "Jakarta, Indonesia";
        }
        
        // Fungsi untuk mengambil data sejarah antariksa dari NASA API
        function fetchSpaceHistory() {
            const today = new Date();
            const month = today.getMonth() + 1; // getMonth() returns 0-indexed month
            const day = today.getDate();
            
            // URL API NASA untuk "Astronomy Picture of the Day" - kita akan gunakan untuk sejarah
            const url = `https://api.nasa.gov/planetary/apod?api_key=${NASA_API_KEY}&date=${today.getFullYear()}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
            
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    displaySpaceHistory(data);
                })
                .catch(error => {
                    console.error("Error fetching space history:", error);
                    // Fallback data jika API tidak merespons
                    displayFallbackHistory();
                });
        }
        
        // Fungsi untuk menampilkan sejarah antariksa
        function displaySpaceHistory(data) {
            const historyContent = document.getElementById('history-content');
            
            // Format data untuk ditampilkan
            let historyHTML = `
                <div class="bg-gray-800/50 rounded-lg p-6">
                    <div class="flex flex-col md:flex-row items-start">
                        <div class="md:w-1/3 mb-4 md:mb-0 md:mr-6">
                            <img src="${data.url || 'https://images.unsplash.com/photo-1462331940025-496dfbfc7564?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80'}" 
                                 alt="${data.title || 'Astronomy Picture of the Day'}" 
                                 class="w-full h-48 object-cover rounded-lg">
                        </div>
                        <div class="md:w-2/3">
                            <h4 class="text-xl font-bold mb-2">${data.title || 'Astronomy Picture of the Day'}</h4>
                            <p class="text-blue-100 mb-4">${data.explanation || 'Penjelasan tentang gambar astronomi hari ini.'}</p>
                            <div class="text-sm text-orange-300">
                                <i class="fas fa-calendar-alt mr-2"></i>
                                <span>${data.date || new Date().toISOString().split('T')[0]}</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-gray-800/50 rounded-lg p-5">
                        <h5 class="font-bold text-lg mb-3 flex items-center">
                            <i class="fas fa-rocket text-blue-400 mr-2"></i>
                            Peristiwa Penting
                        </h5>
                        <ul class="space-y-2">
                            <li class="flex items-start">
                                <i class="fas fa-circle text-xs mt-2 mr-3 text-green-400"></i>
                                <span>1969: Apollo 11 mendarat di Bulan</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-circle text-xs mt-2 mr-3 text-green-400"></i>
                                <span>1990: Teleskop Hubble diluncurkan</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-circle text-xs mt-2 mr-3 text-green-400"></i>
                                <span>2012: Curiosity Rover mendarat di Mars</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="bg-gray-800/50 rounded-lg p-5">
                        <h5 class="font-bold text-lg mb-3 flex items-center">
                            <i class="fas fa-user-astronaut text-purple-400 mr-2"></i>
                            Tokoh Astronomi Hari Ini
                        </h5>
                        <p class="text-blue-100">Johannes Kepler (1571-1630) - Astronom Jerman yang menemukan hukum pergerakan planet yang menjadi dasar mekanika langit modern.</p>
                    </div>
                </div>
            `;
            
            historyContent.innerHTML = historyHTML;
            historyContent.classList.add('fade-in');
        }
        
        // Fallback data sejarah jika API tidak merespons
        function displayFallbackHistory() {
            const historyContent = document.getElementById('history-content');
            const events = [
                { year: "1969", event: "Apollo 11 berhasil mendarat di Bulan" },
                { year: "1990", event: "Teleskop Luar Angkasa Hubble diluncurkan" },
                { year: "1997", event: "Mars Pathfinder mendarat di Mars" },
                { year: "2012", event: "Voyager 1 menjadi objek buatan manusia pertama yang meninggalkan tata surya" },
                { year: "2015", event: "New Horizons terbang melintasi Pluto" }
            ];
            
            let historyHTML = `
                <div class="text-center mb-8">
                    <h4 class="text-2xl font-bold mb-2">Peristiwa Penting dalam Sejarah Antariksa</h4>
                    <p class="text-blue-200">Berikut adalah beberapa peristiwa penting dalam eksplorasi antariksa:</p>
                </div>
                
                <div class="space-y-4">
            `;
            
            events.forEach(item => {
                historyHTML += `
                    <div class="bg-gray-800/50 rounded-lg p-4 flex items-start">
                        <div class="bg-blue-600 text-white rounded-lg px-3 py-1 mr-4 font-bold min-w-20 text-center">
                            ${item.year}
                        </div>
                        <div>
                            <p class="text-lg">${item.event}</p>
                        </div>
                    </div>
                `;
            });
            
            historyHTML += `</div>`;
            historyContent.innerHTML = historyHTML;
            historyContent.classList.add('fade-in');
        }
        
        // Fungsi untuk menyiapkan pertanyaan kuis
        function setupQuizQuestions() {
            quizQuestions = [
                {
                    question: "Planet manakah yang terbesar di tata surya kita?",
                    options: ["Bumi", "Mars", "Jupiter", "Saturnus"],
                    correctAnswer: 2,
                    explanation: "Jupiter adalah planet terbesar di tata surya kita, dengan diameter sekitar 142.984 km."
                },
                {
                    question: "Apa nama galaksi tempat tata surya kita berada?",
                    options: ["Andromeda", "Bimasakti", "Sombrero", "Triangulum"],
                    correctAnswer: 1,
                    explanation: "Tata surya kita terletak di galaksi Bimasakti (Milky Way)."
                },
                {
                    question: "Satelit alami Bumi disebut?",
                    options: ["Phobos", "Titan", "Bulan", "Europa"],
                    correctAnswer: 2,
                    explanation: "Bulan adalah satelit alami satu-satunya yang dimiliki Bumi."
                },
                {
                    question: "Planet manakah yang dikenal sebagai 'Planet Merah'?",
                    options: ["Venus", "Mars", "Jupiter", "Saturnus"],
                    correctAnswer: 1,
                    explanation: "Mars disebut 'Planet Merah' karena penampakannya yang kemerahan akibat besi oksida di permukaannya."
                },
                {
                    question: "Siapa astronaut pertama yang menginjakkan kaki di Bulan?",
                    options: ["Yuri Gagarin", "Neil Armstrong", "Buzz Aldrin", "John Glenn"],
                    correctAnswer: 1,
                    explanation: "Neil Armstrong adalah manusia pertama yang menginjakkan kaki di Bulan pada 20 Juli 1969."
                }
            ];
        }
        
        // Fungsi untuk memulai kuis
        function startQuiz() {
            currentQuestionIndex = 0;
            userScore = 0;
            
            // Sembunyikan tampilan awal, tampilkan pertanyaan
            document.getElementById('quiz-start').classList.add('hidden');
            document.getElementById('quiz-questions').classList.remove('hidden');
            document.getElementById('quiz-results').classList.add('hidden');
            
            showQuestion(currentQuestionIndex);
        }
        
        // Fungsi untuk menampilkan pertanyaan
        function showQuestion(index) {
            const questionContainer = document.getElementById('quiz-questions');
            const question = quizQuestions[index];
            
            let optionsHTML = '';
            question.options.forEach((option, i) => {
                optionsHTML += `
                    <div class="quiz-option bg-gray-800/70 rounded-lg p-4 mb-3 cursor-pointer" data-index="${i}">
                        <div class="flex items-center">
                            <div class="w-8 h-8 flex items-center justify-center rounded-full bg-blue-900 mr-4 font-bold">
                                ${String.fromCharCode(65 + i)}
                            </div>
                            <div class="text-lg">${option}</div>
                        </div>
                    </div>
                `;
            });
            
            questionContainer.innerHTML = `
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="text-xl font-bold">Pertanyaan ${index + 1} dari ${quizQuestions.length}</h4>
                        <div class="bg-blue-900 text-blue-200 py-1 px-3 rounded-full">
                            Skor: ${userScore}
                        </div>
                    </div>
                    <div class="bg-gray-800/50 rounded-lg p-5 mb-6">
                        <h3 class="text-2xl font-bold">${question.question}</h3>
                    </div>
                    
                    <div id="quiz-options">
                        ${optionsHTML}
                    </div>
                </div>
                
                <div class="flex justify-between">
                    <button id="prev-question-btn" class="bg-gray-700 hover:bg-gray-600 text-white py-2 px-6 rounded-lg ${index === 0 ? 'invisible' : ''}">
                        <i class="fas fa-arrow-left mr-2"></i> Sebelumnya
                    </button>
                    <button id="next-question-btn" class="bg-green-600 hover:bg-green-700 text-white py-2 px-6 rounded-lg">
                        ${index === quizQuestions.length - 1 ? 'Selesaikan Kuis' : 'Selanjutnya'}
                        <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            `;
            
            questionContainer.classList.add('fade-in');
            
            // Tambahkan event listener untuk opsi jawaban
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.addEventListener('click', function() {
                    // Hapus seleksi sebelumnya
                    document.querySelectorAll('.quiz-option').forEach(opt => {
                        opt.classList.remove('bg-blue-800', 'border-blue-500');
                        opt.classList.add('bg-gray-800/70');
                    });
                    
                    // Tandai opsi yang dipilih
                    this.classList.remove('bg-gray-800/70');
                    this.classList.add('bg-blue-800', 'border', 'border-blue-500');
                    
                    // Simpan jawaban yang dipilih
                    question.userAnswer = parseInt(this.getAttribute('data-index'));
                });
            });
            
            // Event listener untuk tombol sebelumnya
            if (index > 0) {
                document.getElementById('prev-question-btn').addEventListener('click', function() {
                    currentQuestionIndex--;
                    showQuestion(currentQuestionIndex);
                });
            }
            
            // Event listener untuk tombol selanjutnya
            document.getElementById('next-question-btn').addEventListener('click', function() {
                // Periksa apakah pengguna telah memilih jawaban
                if (typeof quizQuestions[index].userAnswer === 'undefined') {
                    alert('Silakan pilih jawaban terlebih dahulu!');
                    return;
                }
                
                // Periksa jawaban
                if (quizQuestions[index].userAnswer === quizQuestions[index].correctAnswer) {
                    userScore++;
                }
                
                // Lanjut ke pertanyaan berikutnya atau tampilkan hasil
                if (index < quizQuestions.length - 1) {
                    currentQuestionIndex++;
                    showQuestion(currentQuestionIndex);
                } else {
                    showQuizResults();
                }
            });
        }
        
        // Fungsi untuk menampilkan hasil kuis
        function showQuizResults() {
            document.getElementById('quiz-questions').classList.add('hidden');
            document.getElementById('quiz-results').classList.remove('hidden');
            
            let resultsHTML = `
                <div class="bg-gray-800/50 rounded-lg p-8">
                    <div class="text-center mb-8">
                        <i class="fas fa-award text-5xl text-yellow-400 mb-4"></i>
                        <h3 class="text-3xl font-bold mb-2">Hasil Kuis Astronomi</h3>
                        <p class="text-xl">Skor Anda: <span class="font-bold text-green-400">${userScore} dari ${quizQuestions.length}</span></p>
                        <div class="mt-4 text-2xl">
                            ${userScore === quizQuestions.length ? '‚≠ê Sempurna! ‚≠ê' : 
                              userScore >= quizQuestions.length/2 ? 'üëç Bagus!' : '‚úçÔ∏è Terus belajar!'}
                        </div>
                    </div>
                    
                    <div class="mb-8">
                        <h4 class="text-xl font-bold mb-4">Review Jawaban:</h4>
                        <div class="space-y-4">
            `;
            
            quizQuestions.forEach((question, index) => {
                const isCorrect = question.userAnswer === question.correctAnswer;
                const userAnswerText = question.options[question.userAnswer];
                const correctAnswerText = question.options[question.correctAnswer];
                
                resultsHTML += `
                    <div class="p-4 rounded-lg ${isCorrect ? 'bg-green-900/30' : 'bg-red-900/30'}">
                        <div class="font-bold mb-1">Pertanyaan ${index + 1}: ${question.question}</div>
                        <div class="mb-1">Jawaban Anda: <span class="${isCorrect ? 'text-green-300' : 'text-red-300'}">${userAnswerText}</span></div>
                        ${!isCorrect ? `<div class="mb-1">Jawaban Benar: <span class="text-green-300">${correctAnswerText}</span></div>` : ''}
                        <div class="text-sm text-blue-200">${question.explanation}</div>
                    </div>
                `;
            });
            
            resultsHTML += `
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button id="restart-quiz-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg mr-4">
                            <i class="fas fa-redo mr-2"></i> Ulangi Kuis
                        </button>
                        <button id="new-quiz-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg">
                            <i class="fas fa-rocket mr-2"></i> Kuis Baru
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('quiz-results').innerHTML = resultsHTML;
            document.getElementById('quiz-results').classList.add('fade-in');
            
            // Event listener untuk tombol ulangi kuis
            document.getElementById('restart-quiz-btn').addEventListener('click', startQuiz);
            
            // Event listener untuk tombol kuis baru
            document.getElementById('new-quiz-btn').addEventListener('click', function() {
                document.getElementById('quiz-results').classList.add('hidden');
                document.getElementById('quiz-start').classList.remove('hidden');
            });
        }
        
        // Fungsi untuk menghasilkan materi ajar
        function generateTeachingMaterial() {
            const topic = document.getElementById('topic-select').value;
            const difficulty = document.getElementById('difficulty-select').value;
            const learningPoints = document.getElementById('learning-points').value;
            
            // Data materi berdasarkan topik dan tingkat kesulitan
            const materials = {
                'solar-system': {
                    easy: {
                        title: "Pengenalan Tata Surya untuk Siswa SD",
                        content: `
                            <h3 class="text-2xl font-bold mb-4">Mengenal Anggota Tata Surya</h3>
                            <p class="mb-4">Tata surya kita terdiri dari Matahari sebagai pusat dan benda-benda langit yang mengelilinginya.</p>
                            
                            <h4 class="text-xl font-bold mb-2">Planet-planet dalam Tata Surya:</h4>
                            <ol class="list-decimal pl-5 mb-4 space-y-2">
                                <li><strong>Merkurius</strong>: Planet terkecil dan terdekat dengan Matahari</li>
                                <li><strong>Venus</strong>: Planet terpanas dengan awan tebal asam sulfat</li>
                                <li><strong>Bumi</strong>: Planet kita, satu-satunya yang diketahui memiliki kehidupan</li>
                                <li><strong>Mars</strong>: Planet merah dengan gunung tertinggi, Olympus Mons</li>
                                <li><strong>Jupiter</strong>: Planet terbesar dengan badai raksasa (Bintik Merah Besar)</li>
                                <li><strong>Saturnus</strong>: Planet dengan cincin yang indah</li>
                                <li><strong>Uranus</strong>: Planet yang berputar miring</li>
                                <li><strong>Neptunus</strong>: Planet berwarna biru dengan angin terkuat</li>
                            </ol>
                            
                            <h4 class="text-xl font-bold mb-2">Aktivitas Kelas:</h4>
                            <ul class="list-disc pl-5 mb-4 space-y-1">
                                <li>Membuat model tata surya dari bahan daur ulang</li>
                                <li>Menghafal urutan planet dengan jembatan keledai: "Merkurius Venus Bumi Mars Jupiter Saturnus Uranus Neptunus"</li>
                                <li>Mengamati planet Venus atau Jupiter dengan teleskop sederhana</li>
                            </ul>
                        `
                    },
                    medium: {
                        title: "Tata Surya dan Karakteristik Planet untuk Siswa SMP",
                        content: `
                            <h3 class="text-2xl font-bold mb-4">Struktur dan Dinamika Tata Surya</h3>
                            <p class="mb-4">Tata surya terbentuk sekitar 4,6 miliar tahun yang lalu dari awan debu dan gas antar bintang yang runtuh.</p>
                            
                            <h4 class="text-xl font-bold mb-2">Klasifikasi Planet:</h4>
                            <div class="grid md:grid-cols-2 gap-4 mb-4">
                                <div class="bg-gray-800/50 p-4 rounded-lg">
                                    <h5 class="font-bold text-lg mb-2">Planet Terestrial (Dalam)</h5>
                                    <p>Merkurius, Venus, Bumi, Mars</p>
                                    <p class="text-sm text-blue-200 mt-2">Ciri: Berbatuan, padat, ukuran relatif kecil, sedikit atau tidak memiliki satelit alami</p>
                                </div>
                                <div class="bg-gray-800/50 p-4 rounded-lg">
                                    <h5 class="font-bold text-lg mb-2">Planet Jovian (Luar)</h5>
                                    <p>Jupiter, Saturnus, Uranus, Neptunus</p>
                                    <p class="text-sm text-blue-200 mt-2">Ciri: Raksasa gas, tidak memiliki permukaan padat, banyak satelit, memiliki sistem cincin</p>
                                </div>
                            </div>
                            
                            <h4 class="text-xl font-bold mb-2">Hukum Kepler tentang Gerakan Planet:</h4>
                            <ol class="list-decimal pl-5 mb-4 space-y-2">
                                <li>Setiap planet bergerak dalam orbit elips dengan Matahari di salah satu fokusnya</li>
                                <li>Garis yang menghubungkan planet dengan Matahari menyapu luas area yang sama dalam waktu yang sama</li>
                                <li>Kuadrat periode orbit planet sebanding dengan pangkat tiga sumbu semi-mayor orbitnya</li>
                            </ol>
                            
                            <h4 class="text-xl font-bold mb-2">Evaluasi:</h4>
                            <p>Buatlah tabel perbandingan antara planet terestrial dan jovian berdasarkan: ukuran, komposisi, satelit alami, dan periode rotasi.</p>
                        `
                    },
                    advanced: {
                        title: "Mekanika Tata Surya dan Eksoplanet untuk Siswa SMA",
                        content: `
                            <h3 class="text-2xl font-bold mb-4">Dinamika Tata Surya dan Pencarian Kehidupan di Luar Bumi</h3>
                            <p class="mb-4">Tata surya merupakan sistem yang kompleks dengan interaksi gravitasi antara Matahari, planet, satelit, dan benda langit lainnya.</p>
                            
                            <h4 class="text-xl font-bold mb-2">Mekanika Langit:</h4>
                            <div class="mb-4">
                                <p class="mb-2"><strong>Hukum Gravitasi Universal Newton:</strong> F = G(m‚ÇÅm‚ÇÇ/r¬≤)</p>
                                <p class="mb-2"><strong>Kecepatan Lepas:</strong> v = ‚àö(2GM/R) - kecepatan minimum untuk lepas dari gravitasi suatu benda langit</p>
                                <p><strong>Zona Goldilocks:</strong> Jarak dari bintang dimana air dapat berbentuk cair di permukaan planet</p>
                            </div>
                            
                            <h4 class="text-xl font-bold mb-2">Eksoplanet dan Pencarian Kehidupan:</h4>
                            <p class="mb-4">Hingga 2023, telah ditemukan lebih dari 5.000 eksoplanet (planet di luar tata surya kita). Metode deteksi utama:</p>
                            <ul class="list-disc pl-5 mb-4 space-y-1">
                                <li><strong>Metode Transit:</strong> Mendeteksi penurunan kecerahan bintang saat planet melintas di depannya</li>
                                <li><strong>Metode Kecepatan Radial:</strong> Mendeteksi goyangan bintang akibat tarikan gravitasi planet</li>
                                <li><strong>Pencitraan Langsung:</strong> Mengambil gambar langsung eksoplanet dengan teleskop khusus</li>
                            </ul>
                            
                            <h4 class="text-xl font-bold mb-2">Proyek Penelitian:</h4>
                            <p>Analisis data dari Teleskop Kepler atau TESS untuk mengidentifikasi kandidat eksoplanet berdasarkan kurva cahaya bintang.</p>
                        `
                    }
                },
                // Topik lainnya akan memiliki struktur serupa
            };
            
            // Default material jika topik tidak ditemukan
            const defaultMaterial = {
                title: "Materi Astronomi",
                content: `<p>Materi untuk topik ini sedang dalam pengembangan. Silakan pilih topik lain.</p>`
            };
            
            // Ambil materi yang sesuai atau gunakan default
            const material = materials[topic]?.[difficulty] || defaultMaterial;
            
            // Tambahkan poin pembelajaran spesifik jika ada
            let additionalContent = '';
            if (learningPoints.trim() !== '') {
                additionalContent = `
                    <div class="mt-6 p-4 bg-blue-900/30 rounded-lg">
                        <h4 class="text-xl font-bold mb-2">Poin Pembelajaran yang Diminta:</h4>
                        <p>${learningPoints}</p>
                    </div>
                `;
            }
            
            // Tampilkan materi yang dihasilkan
            const materialContainer = document.getElementById('generated-material');
            materialContainer.innerHTML = `
                <div class="bg-gray-800/50 rounded-xl p-6 fade-in">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold">${material.title}</h3>
                        <button id="download-material-btn" class="bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg">
                            <i class="fas fa-download mr-2"></i> Unduh Materi
                        </button>
                    </div>
                    
                    <div class="prose prose-invert max-w-none">
                        ${material.content}
                        ${additionalContent}
                    </div>
                    
                    <div class="mt-8 p-4 bg-gray-900/50 rounded-lg">
                        <h4 class="text-lg font-bold mb-2">Sumber NASA:</h4>
                        <p class="text-sm text-blue-200">Materi ini dikembangkan berdasarkan data dari NASA. Untuk informasi lebih lanjut, kunjungi <a href="https://www.nasa.gov" class="text-blue-400 underline" target="_blank">NASA.gov</a>.</p>
                    </div>
                </div>
            `;
            
            materialContainer.classList.remove('hidden');
            
            // Event listener untuk tombol unduh
            document.getElementById('download-material-btn').addEventListener('click', function() {
                alert('Fitur unduh akan mengekspor materi dalam format PDF. (Fitur ini dalam pengembangan)');
                // Dalam implementasi nyata, ini akan menghasilkan dan mengunduh file PDF
            });
        }
        
        // Fungsi untuk memperbarui fase bulan
        function updateMoonPhase() {
            const today = new Date();
            const day = today.getDate();
            const month = today.getMonth() + 1;
            const year = today.getFullYear();
            
            // Perhitungan sederhana fase bulan (hanya untuk demonstrasi)
            const daysInLunarCycle = 29.53;
            const knownNewMoon = new Date(2023, 6, 17); // 17 Juli 2023 adalah bulan baru
            const daysSinceNewMoon = Math.floor((today - knownNewMoon) / (1000 * 60 * 60 * 24));
            const lunarAge = daysSinceNewMoon % daysInLunarCycle;
            
            let moonPhase;
            if (lunarAge < 1) moonPhase = "Bulan Baru";
            else if (lunarAge < 7.4) moonPhase = "Bulan Sabit Awal";
            else if (lunarAge < 14.8) moonPhase = "Bulan Cembung Awal";
            else if (lunarAge < 15.8) moonPhase = "Bulan Purnama";
            else if (lunarAge < 22.2) moonPhase = "Bulan Cembung Akhir";
            else if (lunarAge < 29.5) moonPhase = "Bulan Sabit Akhir";
            else moonPhase = "Bulan Baru";
            
            document.getElementById('moon-phase').textContent = moonPhase;
        }
        
        // Smooth scroll untuk navigasi
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    // Tutup menu mobile jika terbuka
                    document.getElementById('mobile-menu').classList.add('hidden');
                    
                    // Scroll ke elemen target
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
    </script>
</body>
</html>